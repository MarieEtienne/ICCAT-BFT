ind <- c(1,which(diff(selectivity[,1]>0)))
selectivity <- res$log_sel
ind <- which(apply(selectivity[,2:ncol(res$log_sel)], 1, sum)!=0)
selectivity <- selectivity[ind,]
ind <- c(1,which(diff(selectivity[,1]>0)))
ind <- c(1,which(diff(selectivity[,1])>0))
selectivity <- selectivity[ind,2:ncol(selectivity)]
selectivity
for( i in 1:nrow(selectivity))
{
if(i==1)
plot(res$age, selectivity[i,], "l", col=i, lty=i)
else
lines(res$age, selectivity[i,], "l", col=i, lty=i)
}
legend("topleft", legend=paste("Gear ", 1:ngear), lty=1:ngear, col=11:ngear)
library(knitr)
# set global chunk options
opts_chunk$set(fig.path='figure/ICCAT-', fig.align='center', fig.show='hold')
options(replace.assign=TRUE,width=90)
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT/"
setwd(main.dir)
RDataFiles<- readLines(file.path(main.dir,'Report', 'RData', 'datafile.out'))
ns <- grep("## SELECTIVITY PARAMETERS Columns for gear", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
cat(RDataFiles[ns+2])
cat(RDataFiles[ns+5])
cat(RDataFiles[ns+3])
cat(RDataFiles[ns+4])
ns <- grep("## Survey timing ", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
load(file.path('RData','popParameters.RData'))
for( i in names(popParameters)  )
cat(i, ' = ',  popParameters[[i]],'\n')
src.dir <- "/home/metienne/ICCAT/ICCAT-BFT/sources"
setwd(src.dir)
source('read.admb.R')
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT"
wd       <- "bfte/2012/vpa/inflated/low"
res      <- read.admb(ifile=file.path(main.dir, wd,'ICCAT'))
ns <- grep("## File used as entry", RDataFiles)
cat(RDataFiles[ns+1])
selectivity <- res$log_sel
ind <- which(apply(selectivity[,2:ncol(res$log_sel)], 1, sum)!=0)
selectivity <- selectivity[ind,]
ind <- c(1,which(diff(selectivity[,1])>0))
selectivity <- selectivity[ind,2:ncol(selectivity)]
selectivity <- exp(selectivity)
for( i in 1:nrow(selectivity))
{
if(i==1)
plot(res$age, selectivity[i,], "l", col=i, lty=i)
else
lines(res$age, selectivity[i,], "l", col=i, lty=i)
}
legend("topleft", legend=paste("Gear ", 1:ngear), lty=1:ngear, col=11:ngear)
library(knitr)
# set global chunk options
opts_chunk$set(fig.path='figure/ICCAT-', fig.align='center', fig.show='hold')
options(replace.assign=TRUE,width=90)
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT/"
setwd(main.dir)
RDataFiles<- readLines(file.path(main.dir,'Report', 'RData', 'datafile.out'))
ns <- grep("## SELECTIVITY PARAMETERS Columns for gear", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
cat(RDataFiles[ns+2])
cat(RDataFiles[ns+5])
cat(RDataFiles[ns+3])
cat(RDataFiles[ns+4])
ns <- grep("## Survey timing ", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
load(file.path('RData','popParameters.RData'))
for( i in names(popParameters)  )
cat(i, ' = ',  popParameters[[i]],'\n')
src.dir <- "/home/metienne/ICCAT/ICCAT-BFT/sources"
setwd(src.dir)
source('read.admb.R')
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT"
wd       <- "bfte/2012/vpa/inflated/low"
res      <- read.admb(ifile=file.path(main.dir, wd,'ICCAT'))
ns <- grep("## File used as entry", RDataFiles)
cat(RDataFiles[ns+1])
selectivity <- res$log_sel
ind <- which(apply(selectivity[,2:ncol(res$log_sel)], 1, sum)!=0)
selectivity <- selectivity[ind,]
ind <- c(1,which(diff(selectivity[,1])>0))
selectivity <- selectivity[ind,2:ncol(selectivity)]
selectivity <- exp(selectivity)
for( i in 1:nrow(selectivity))
{
if(i==1)
plot(res$age, selectivity[i,], "l", col=i, lty=i, ylim=c(0,2))
else
lines(res$age, selectivity[i,], "l", col=i, lty=i)
}
legend("topleft", legend=paste("Gear ", 1:ngear), lty=1:ngear, col=11:ngear)
selectivity[4,] <- selectivity[4,]/10
library(knitr)
# set global chunk options
opts_chunk$set(fig.path='figure/ICCAT-', fig.align='center', fig.show='hold')
options(replace.assign=TRUE,width=90)
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT/"
setwd(main.dir)
RDataFiles<- readLines(file.path(main.dir,'Report', 'RData', 'datafile.out'))
ns <- grep("## SELECTIVITY PARAMETERS Columns for gear", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
cat(RDataFiles[ns+2])
cat(RDataFiles[ns+5])
cat(RDataFiles[ns+3])
cat(RDataFiles[ns+4])
ns <- grep("## Survey timing ", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
load(file.path('RData','popParameters.RData'))
for( i in names(popParameters)  )
cat(i, ' = ',  popParameters[[i]],'\n')
src.dir <- "/home/metienne/ICCAT/ICCAT-BFT/sources"
setwd(src.dir)
source('read.admb.R')
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT"
wd       <- "bfte/2012/vpa/inflated/low"
res      <- read.admb(ifile=file.path(main.dir, wd,'ICCAT'))
ns <- grep("## File used as entry", RDataFiles)
cat(RDataFiles[ns+1])
selectivity <- res$log_sel
ind <- which(apply(selectivity[,2:ncol(res$log_sel)], 1, sum)!=0)
selectivity <- selectivity[ind,]
ind <- c(1,which(diff(selectivity[,1])>0))
selectivity <- selectivity[ind,2:ncol(selectivity)]
selectivity <- exp(selectivity)
selectivity[4,] <- selectivity[4,]/10
for( i in 1:nrow(selectivity))
{
if(i==1)
plot(res$age, selectivity[i,], "l", col=i, lty=i, ylim=c(0,2))
else
lines(res$age, selectivity[i,], "l", col=i, lty=i)
}
legend("topleft", legend=paste("Gear ", 1:ngear), lty=1:ngear, col=11:ngear)
selectivity <- selectivity/10
library(knitr)
# set global chunk options
opts_chunk$set(fig.path='figure/ICCAT-', fig.align='center', fig.show='hold')
options(replace.assign=TRUE,width=90)
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT/"
setwd(main.dir)
RDataFiles<- readLines(file.path(main.dir,'Report', 'RData', 'datafile.out'))
ns <- grep("## SELECTIVITY PARAMETERS Columns for gear", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
cat(RDataFiles[ns+2])
cat(RDataFiles[ns+5])
cat(RDataFiles[ns+3])
cat(RDataFiles[ns+4])
ns <- grep("## Survey timing ", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
load(file.path('RData','popParameters.RData'))
for( i in names(popParameters)  )
cat(i, ' = ',  popParameters[[i]],'\n')
src.dir <- "/home/metienne/ICCAT/ICCAT-BFT/sources"
setwd(src.dir)
source('read.admb.R')
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT"
wd       <- "bfte/2012/vpa/inflated/low"
res      <- read.admb(ifile=file.path(main.dir, wd,'ICCAT'))
ns <- grep("## File used as entry", RDataFiles)
cat(RDataFiles[ns+1])
selectivity <- res$log_sel
ind <- which(apply(selectivity[,2:ncol(res$log_sel)], 1, sum)!=0)
selectivity <- selectivity[ind,]
ind <- c(1,which(diff(selectivity[,1])>0))
selectivity <- selectivity[ind,2:ncol(selectivity)]
selectivity <- exp(selectivity)
selectivity <- selectivity/10
for( i in 1:nrow(selectivity))
{
if(i==1)
plot(res$age, selectivity[i,], "l", col=i, lty=i, ylim=c(0,2))
else
lines(res$age, selectivity[i,], "l", col=i, lty=i)
}
legend("topleft", legend=paste("Gear ", 1:ngear), lty=1:ngear, col=11:ngear)
library(knitr)
# set global chunk options
opts_chunk$set(fig.path='figure/ICCAT-', fig.align='center', fig.show='hold')
options(replace.assign=TRUE,width=90)
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT/"
setwd(main.dir)
RDataFiles<- readLines(file.path(main.dir,'Report', 'RData', 'datafile.out'))
ns <- grep("## SELECTIVITY PARAMETERS Columns for gear", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
cat(RDataFiles[ns+2])
cat(RDataFiles[ns+5])
cat(RDataFiles[ns+3])
cat(RDataFiles[ns+4])
ns <- grep("## Survey timing ", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
load(file.path('RData','popParameters.RData'))
for( i in names(popParameters)  )
cat(i, ' = ',  popParameters[[i]],'\n')
src.dir <- "/home/metienne/ICCAT/ICCAT-BFT/sources"
setwd(src.dir)
source('read.admb.R')
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT"
wd       <- "bfte/2012/vpa/inflated/low"
res      <- read.admb(ifile=file.path(main.dir, wd,'ICCAT'))
ns <- grep("## File used as entry", RDataFiles)
cat(RDataFiles[ns+1])
selectivity <- res$log_sel
ind <- which(apply(selectivity[,2:ncol(res$log_sel)], 1, sum)!=0)
selectivity <- selectivity[ind,]
ind <- c(1,which(diff(selectivity[,1])>0))
selectivity <- selectivity[ind,2:ncol(selectivity)]
selectivity <- exp(selectivity)
selectivity <- selectivity/10
for( i in 1:nrow(selectivity))
{
if(i==1)
plot(res$age, selectivity[i,], "l", col=i, lty=i, ylim=c(0,1))
else
lines(res$age, selectivity[i,], "l", col=i, lty=i)
}
legend("topleft", legend=paste("Gear ", 1:ngear), lty=1:ngear, col=11:ngear)
library(knitr)
# set global chunk options
opts_chunk$set(fig.path='figure/ICCAT-', fig.align='center', fig.show='hold')
options(replace.assign=TRUE,width=90)
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT/"
setwd(main.dir)
RDataFiles<- readLines(file.path(main.dir,'Report', 'RData', 'datafile.out'))
ns <- grep("## SELECTIVITY PARAMETERS Columns for gear", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
cat(RDataFiles[ns+2])
cat(RDataFiles[ns+5])
cat(RDataFiles[ns+3])
cat(RDataFiles[ns+4])
ns <- grep("## Survey timing ", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
load(file.path('RData','popParameters.RData'))
for( i in names(popParameters)  )
cat(i, ' = ',  popParameters[[i]],'\n')
src.dir <- "/home/metienne/ICCAT/ICCAT-BFT/sources"
setwd(src.dir)
source('read.admb.R')
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT"
wd       <- "bfte/2012/vpa/inflated/low"
reS      <- read.admb(ifile=file.path(main.dir, wd,'ICCAT'))
ns <- grep("## File used as entry", RDataFiles)
cat(RDataFiles[ns+1])
selectivity <- res$log_sel
ind <- which(apply(selectivity[,2:ncol(res$log_sel)], 1, sum)!=0)
selectivity <- selectivity[ind,]
ind <- c(1,which(diff(selectivity[,1])>0))
selectivity <- selectivity[ind,2:ncol(selectivity)]
selectivity <- exp(selectivity)
selectivity <- selectivity/10
for( i in 1:nrow(selectivity))
{
if(i==1)
plot(res$age, selectivity[i,], "l", col=i, lty=i, ylim=c(0,1))
else
lines(res$age, selectivity[i,], "l", col=i, lty=i)
}
legend("topleft", legend=paste("Gear ", 1:ngear), lty=1:ngear, col=11:ngear)
res$ct
res$steepness
res$m
res$wa
res$
res$vax
res$vax
res$A
nodesAge*nage
library(knitr)
# set global chunk options
opts_chunk$set(fig.path='figure/ICCAT-', fig.align='center', fig.show='hold')
options(replace.assign=TRUE,width=90)
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT/"
setwd(main.dir)
RDataFiles<- readLines(file.path(main.dir,'Report', 'RData', 'datafile.out'))
ns <- grep("## SELECTIVITY PARAMETERS Columns for gear", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
cat(RDataFiles[ns+2])
cat(RDataFiles[ns+5])
cat(RDataFiles[ns+3])
cat(RDataFiles[ns+4])
ns <- grep("## Survey timing ", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
load(file.path('RData','popParameters.RData'))
for( i in names(popParameters)  )
cat(i, ' = ',  popParameters[[i]],'\n')
src.dir <- "/home/metienne/ICCAT/ICCAT-BFT/sources"
setwd(src.dir)
source('read.admb.R')
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT"
wd       <- "bfte/2012/vpa/inflated/low"
res      <- read.admb(ifile=file.path(main.dir, wd,'ICCAT'))
ns <- grep("## File used as entry", RDataFiles)
cat(RDataFiles[ns+1])
selectivity <- res$log_sel
ind <- which(apply(selectivity[,2:ncol(res$log_sel)], 1, sum)!=0)
selectivity <- selectivity[ind,]
ind <- c(1,which(diff(selectivity[,1])>0))
selectivity <- selectivity[ind,2:ncol(selectivity)]
selectivity <- exp(selectivity)
selectivity <- selectivity/10
for( i in 1:nrow(selectivity))
{
if(i==1)
plot(res$age, selectivity[i,], "l", col=i, lty=i, ylim=c(0,1))
else
lines(res$age, selectivity[i,], "l", col=i, lty=i)
}
legend("topleft", legend=paste("Gear ", 1:ngear), lty=1:ngear, col=11:ngear)
res$A
s1 =0.1
s2=0.3
s2=0.6
plot(1:3, s<- c(s1, s2, s3))
s<- c(s1, s2, s3)
sel<- c(s1, s2, s3)
s3=0.6
sel<- c(s1, s2, s3)
plot(1:3, s<- c(s1, s2, s3))
s2=0.3
plot(1:3, s<- c(s1, s2, s3))
s.t <- log(s)- mean(log(s))
plot(1:3, s
)
plot(1:3, s.t)
plot(1:3, exp(s.t))
exp(sum(s.t))
A=matrix(c(1,2,3,4))
R=1
B.cent=c(0,0)
t<- seq(,2*pi, 0.1)
x= R*cos(t)
y= R*sin(t=)
y= R*sin(t)
plot(x,y)
t<- seq(0,2*pi, 0.05)
x= R*cos(t)
y= R*sin(t)
plot(x,y)
A
A=matrix(c(1,2,3,4), ncol=2)
A
A%*%matrix(B, ncol=1)
A%*%matrix(B.cent, ncol=1)
test=c(1,2)
A%*%matrix(test, ncol=1)
A
Points =matrix(c(x,y), nrow=2, byrow=T)
Points
plot(Points[1,], Points[2,])
PointsFinaux <- A%*%Points
plot(PointsFinaux[1,], PointsFinaux[2,])
plot(Points[1,], Points[2,], xlim=c(-3.5, 3.5), ylim=c(-4.5, 4.5))
points(ointsFinaux[1,], PointsFinaux[2,], col=2)
points(PointsFinaux[1,], PointsFinaux[2,], col=2)
Ainv <- solve(A)
Ainv %*% c(1,0)
ok=Ainv %*% c(1,0)
A%*% ok
ok
1/sum(ok^2)
ok.norm = ok/ sqrt((sum(ok^2))
ok.norm = ok/ sqrt((sum(ok^2)))
ok.norm = ok/ sqrt((sum(ok^2)))
ok.norm
norm(ok)
ok.norm = ok/ norm(ok)
ok.norm
sqrt(sum(ok^2))
ok
A%*% ok
ok.norm = ok/ norm(ok)
A%*%ok.norm
1/norm(A%*%ok.norm)
lines(c(0,ok[1]), c(0,ok[2]))
lines(c(0,1), c(0,0))
lines(c(0,1), c(0,0), col=2)
lines(c(0,1), c(0,0), col=2, lwd=2)
lines(c(0,1), c(0,0), col=2, lwd=3)
lines(c(0,ok[1]), c(0,ok[2]), lwd=3)
bb<-matrix(c(-R,-R, -R,R,R,R, R, -R ), nrow=2)
bb
lines(bb[1,], bb[2,])
bb<-matrix(c(-R,-R, -R,R,R,R, R, -R, -R,-R ), nrow=2)
lines(bb[1,], bb[2,])
bb.fin <- A%*% bb
lines(bb.fin[1,], bb.fin[2,], col=2)
args <- 'ICCAT'
print(args[1])
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT/"
RDataFiles<- readLines(file.path(main.dir,'Report', 'RData', 'datafile.out'))
ns <- grep("## SELECTIVITY PARAMETERS Columns for gear", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
cat(RDataFiles[ns+2])
cat(RDataFiles[ns+5])
cat(RDataFiles[ns+3])
cat(RDataFiles[ns+4])
ns <- grep("## Survey timing ", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
load(file.path('RData','popParameters.RData'))
list.files()
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT/"
setwd(main.dir)
RDataFiles<- readLines(file.path(main.dir,'Report', 'RData', 'datafile.out'))
ns <- grep("## SELECTIVITY PARAMETERS Columns for gear", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
cat(RDataFiles[ns+2])
cat(RDataFiles[ns+5])
cat(RDataFiles[ns+3])
cat(RDataFiles[ns+4])
ns <- grep("## Survey timing ", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
load(file.path('RData','popParameters.RData'))
getwd()
load(file.path('Report','RData','popParameters.RData'))
for( i in names(popParameters)  )
cat(i, ' = ',  popParameters[[i]],'\n')
src.dir <- "/home/metienne/ICCAT/ICCAT-BFT/sources"
setwd(src.dir)
source('read.admb.R')
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT"
wd       <- "bfte/2012/vpa/inflated/low"
res      <- read.admb(ifile=file.path(main.dir, wd,'ICCAT'))
ns <- grep("## File used as entry", RDataFiles)
cat(RDataFiles[ns+1])
selectivity <- res$log_sel
ind <- which(apply(selectivity[,2:ncol(res$log_sel)], 1, sum)!=0)
selectivity <- selectivity[ind,]
ind <- c(1,which(diff(selectivity[,1])>0))
selectivity <- selectivity[ind,2:ncol(selectivity)]
selectivity <- exp(selectivity)
selectivity <- selectivity/10
ngear <- res$ngear
for( i in 1:nrow(selectivity))
{
if(i==1)
plot(res$age, selectivity[i,], "l", col=i, lty=i, ylim=c(0,1))
else
lines(res$age, selectivity[i,], "l", col=i, lty=i)
}
legend("topleft", legend=paste("Gear ", 1:ngear), lty=1:ngear, col=11:ngear)
legend("topleft", legend=paste("Gear ", 1:ngear), lty=1:ngear, col=11:ngear)
res$ro
log(res$ro)
library(knitr)
# set global chunk options
opts_chunk$set(fig.path='figure/ICCAT-', fig.align='center', fig.show='hold')
options(replace.assign=TRUE,width=90)
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT/"
setwd(main.dir)
RDataFiles<- readLines(file.path(main.dir,'Report', 'RData', 'datafile.out'))
ns <- grep("## SELECTIVITY PARAMETERS Columns for gear", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
cat(RDataFiles[ns+2])
cat(RDataFiles[ns+5])
cat(RDataFiles[ns+3])
cat(RDataFiles[ns+4])
ns <- grep("## Survey timing ", RDataFiles)
cat(RDataFiles[ns])
cat(RDataFiles[ns+1])
load(file.path('Report','RData','popParameters.RData'))
for( i in names(popParameters)  )
cat(i, ' = ',  popParameters[[i]],'\n')
src.dir <- "/home/metienne/ICCAT/ICCAT-BFT/sources"
setwd(src.dir)
source('read.admb.R')
main.dir <- "/home/metienne/ICCAT/ICCAT-BFT"
wd       <- "bfte/2012/vpa/inflated/low"
res      <- read.admb(ifile=file.path(main.dir, wd,'ICCAT'))
ns <- grep("## File used as entry", RDataFiles)
cat(RDataFiles[ns+1])
selectivity <- res$log_sel
ind <- which(apply(selectivity[,2:ncol(res$log_sel)], 1, sum)!=0)
selectivity <- selectivity[ind,]
ind <- c(1,which(diff(selectivity[,1])>0))
selectivity <- selectivity[ind,2:ncol(selectivity)]
selectivity <- exp(selectivity)
selectivity <- selectivity/10
ngear <- res$ngear
for( i in 1:nrow(selectivity))
{
if(i==1)
plot(res$age, selectivity[i,], "l", col=i, lty=i, ylim=c(0,1))
else
lines(res$age, selectivity[i,], "l", col=i, lty=i)
}
legend("topleft", legend=paste("Gear ", 1:ngear), lty=1:ngear, col=11:ngear)
log(res$ro)
names(res)
res$ro
